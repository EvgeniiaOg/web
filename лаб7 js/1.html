<!DOCTYPE html> 
<html>   
<head>     
	<meta charset="UTF-8">     
	<title>Среднее арифметическое положительных чисел</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>  
<body>
<div class="container">
    <div class="mt-4">
        <h1>Среднее арифметическое положительных чисел массива</h1>
        <button class="btn btn-primary" onclick="Average"> Сгенерировать </button>
        <div id="result" class="mt-2"></div>
		<div id="avg" class="mt-2"></div>
    </div>
</div>   

<script>
	<!-- function Average() { -->
		<!-- var arr = []; -->
		<!-- var sum = 0; -->
		<!-- var count = 0; -->
		<!-- for (var i = 0; i < 15; i++) { -->
        <!-- arr[i] = Math.floor(Math.random() * 41) - 10;  -->
			<!-- if (arr[i] > 0) { -->
				<!-- sum += arr[i]; -->
				<!-- count++; -->
			<!-- } -->
		<!-- } -->
		<!-- var avg = sum / count; -->
		<!-- const ToTable = (array) => { -->
			<!-- const table = document.createElement('table'); -->
			<!-- // Добавим видимые границы у таблицы -->
			<!-- table.setAttribute('border', '1'); -->
			<!-- const tr = table.insertRow(); -->
				<!-- for (const item of array) { -->
					<!-- const td = tr.insertCell(); -->
					<!-- td.classList.add("p-3", "border") -->
					<!-- td.textContent = item -->
			<!-- } -->
		 <!-- return table; -->
		<!-- } -->

		<!-- document.getElementById('result').append(ToTable(arr)); -->
		<!-- document.getElementById('avg').innerHTML="<br>Среднее арифметическое положительных чисел: "+avg;       -->

	<!-- }			 -->
	class Average {
  constructor() {
    this.arr = [];
    this.sum = 0;
    this.count = 0;
  }
  
  generateArray = () => {
    for (let i = 0; i < 15; i++) {
      this.arr[i] = Math.floor(Math.random() * 41) - 10; 
      if (this.arr[i] > 0) {
        this.sum += this.arr[i];
        this.count++;
      }
    }
  }
  
  displayTable = () => {
    const toTable = (array) => {
      const table = document.createElement('table');
      table.setAttribute('border', '1');
      const tr = table.insertRow();
      for (const item of array) {
        const td = tr.insertCell();
        td.classList.add("p-3", "border")
        td.textContent = item
      }
      return table;
    }
    document.getElementById('result').append(toTable(this.arr));
  }
  
  displayAvg = () => {
    const avg = this.sum / this.count;
    document.getElementById('avg').innerHTML="<br>Среднее арифметическое положительных чисел: "+avg;   
  }
}

// использование класса
const average = new Average();
average.generateArray();
average.displayTable();
average.displayAvg();

</script>   
</body> 
</html>